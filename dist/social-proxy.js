(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.endpoints = {
    slack: 'https://social-proxy.herokuapp.com/slack',
};
const config = {
    endpoints: exports.endpoints,
};
exports.default = config;

},{}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const instagram_1 = require("./modules/instagram");
const cache_1 = require("./modules/cache");
const slack_1 = require("./modules/slack");
(function (window) {
    if (window['socialProxy']) {
        console.log('Whoops, looks like the `socialProxy` API has already been added!');
        return;
    }
    class SocialProxy {
        constructor() {
            this.instagram = new instagram_1.InstagramModule({ ref: this });
            this.cache = new cache_1.CacheModule({ ref: this });
            this.slack = new slack_1.SlackModule({ ref: this });
        }
    }
    ;
    window['socialProxy'] = new SocialProxy();
})(window);

},{"./modules/cache":3,"./modules/instagram":4,"./modules/slack":5}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class CacheModule {
    constructor(options = {}) {
        if (options.ref) {
            this.ref = options.ref;
        }
    }
    sanitizeTtl(ttl) {
        return (ttl && typeof ttl === 'number') ? (new Date().getTime() + ttl) : null;
    }
    getDefaultTtl() {
        return (new Date().getTime() + (1000 * 60 * 60 * 24 * 7));
    }
    getCachePrefix() {
        return 'socialProxy';
    }
    getCacheKey(options = {}) {
        var platform = options.platform;
        var handle = options.handle;
        var url = options.url;
        if (platform && handle && url) {
            return `${this.getCachePrefix()}__${platform}__${handle}__${url}`;
        }
        else {
            return null;
        }
    }
    decorateCache(data = {}) {
        if (!data.socialProxy) {
            data.socialProxy = {};
        }
        if (data.socialProxy.ttl && typeof data.socialProxy.ttl === 'number') {
            data.socialProxy.isExpired = (data.socialProxy.ttl < new Date().getTime());
        }
        return data;
    }
    getCache(options = {}) {
        var key = this.getCacheKey(options);
        var data = null;
        if (!key) {
            return null;
        }
        data = window.localStorage.getItem(key);
        return (data) ? this.decorateCache(JSON.parse(data)) : data;
    }
    setCache(data, options) {
        if (!window.localStorage) {
            return;
        }
        const key = this.getCacheKey(options);
        const ttl = this.sanitizeTtl(options.ttl) || this.getDefaultTtl();
        data.socialProxy = {
            ttl: ttl,
        };
        window.localStorage.setItem(key, JSON.stringify(data));
    }
}
exports.CacheModule = CacheModule;

},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class InstagramModule {
    constructor(options = {}) {
        if (options.ref) {
            this.ref = options.ref;
        }
    }
    fetch(handle, options = {}) {
        return new Promise((resolve, reject) => {
            var _this = this;
            var query = options.query || {};
            var ttl = options.ttl || null;
            var queryString = Object.keys(query).map((key) => { return `${key}=${query[key]}`; }).join('&');
            var url = `https://social-proxy.herokuapp.com/instagram/${handle}?${queryString}`;
            var cachedData = _this.ref.cache.getCache({ platform: 'instagram', handle, url });
            var req = null;
            if (!options.bustCache && cachedData && !cachedData.socialProxy.isExpired) {
                resolve(cachedData);
                return;
            }
            else {
                req = new XMLHttpRequest();
                req.open('GET', url);
                req.onreadystatechange = function () {
                    if (this.readyState === 4) {
                        var status = this.status;
                        if (parseInt(status) === 200) {
                            if (!!options.cache) {
                                _this.ref.cache.setCache(JSON.parse(this.response), {
                                    platform: 'instagram',
                                    handle,
                                    url,
                                    ttl,
                                });
                            }
                            resolve(JSON.parse(this.response));
                        }
                        else {
                            reject(this.response || this.statusText);
                        }
                    }
                };
                req.send();
            }
        });
    }
}
exports.InstagramModule = InstagramModule;

},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const config_1 = require("../../config");
class SlackModule {
    constructor(options = {}) {
        if (options.ref) {
            this.ref = options.ref;
        }
    }
    post(handle, options = {}) {
        return new Promise((resolve, reject) => {
            let { text } = options;
            if (!handle || typeof handle !== 'string') {
                reject('Missing `handle`');
                return;
            }
            if (!text || typeof text !== 'string') {
                reject('`options` object must include a `text` key of type string.');
                return;
            }
            let url = `${config_1.endpoints.slack}/${handle}?text=${text}`;
            let requestConfig = {
                method: 'POST',
            };
            fetch(url, requestConfig)
                .then((response) => {
                resolve(response.text());
            })
                .catch((err) => {
                reject(err);
            });
        });
    }
}
exports.SlackModule = SlackModule;

},{"../../config":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29uZmlnL2luZGV4LnRzIiwic3JjL21haW4udHMiLCJzcmMvbW9kdWxlcy9jYWNoZS9pbmRleC50cyIsInNyYy9tb2R1bGVzL2luc3RhZ3JhbS9pbmRleC50cyIsInNyYy9tb2R1bGVzL3NsYWNrL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBYSxRQUFBLFNBQVMsR0FBRztJQUN4QixLQUFLLEVBQUUsMENBQTBDO0NBQ2pELENBQUM7QUFFRixNQUFNLE1BQU0sR0FBRztJQUNkLFNBQVMsRUFBVCxpQkFBUztDQUNULENBQUM7QUFFRixrQkFBZSxNQUFNLENBQUM7Ozs7O0FDTHRCLG1EQUFzRDtBQUN0RCwyQ0FBOEM7QUFDOUMsMkNBQThDO0FBRzlDLENBQUUsVUFBVSxNQUFXO0lBQ3RCLEVBQUUsQ0FBQyxDQUFFLE1BQU0sQ0FBRSxhQUFhLENBQUcsQ0FBQyxDQUFDLENBQUM7UUFDL0IsT0FBTyxDQUFDLEdBQUcsQ0FBRSxrRUFBa0UsQ0FBRSxDQUFDO1FBQ2xGLE1BQU0sQ0FBQztJQUNSLENBQUM7SUFFRDtRQUtDO1lBQ0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLDJCQUFlLENBQUUsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUUsQ0FBQztZQUN0RCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksbUJBQVcsQ0FBRSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsQ0FBRSxDQUFDO1lBQzlDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxtQkFBVyxDQUFFLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxDQUFFLENBQUM7UUFDL0MsQ0FBQztLQUNEO0lBQUEsQ0FBQztJQUVGLE1BQU0sQ0FBRSxhQUFhLENBQUUsR0FBRyxJQUFJLFdBQVcsRUFBRSxDQUFDO0FBQzdDLENBQUMsQ0FBRSxDQUFFLE1BQU0sQ0FBRSxDQUFDOzs7OztBQ3pCZDtJ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LEVBQUUsTUFBTTthQUNkLENBQUM7WUFFRixLQUFLLENBQUUsR0FBRyxFQUFFLGFBQWEsQ0FBRTtpQkFDekIsSUFBSSxDQUFFLENBQUUsUUFBUSxFQUFHLEVBQUU7Z0JBQ3JCLE9BQU8sQ0FBRSxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUUsQ0FBQztZQUM1QixDQUFDLENBQUU7aUJBQ0YsS0FBSyxDQUFFLENBQUUsR0FBRyxFQUFHLEVBQUU7Z0JBQ2pCLE1BQU0sQ0FBRSxHQUFHLENBQUUsQ0FBQztZQUNmLENBQUMsQ0FBRSxDQUFDO1FBQ04sQ0FBQyxDQUFFLENBQUM7SUFDTCxDQUFDO0NBQ0Q7QUEvQ0Qsa0NBK0NDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImV4cG9ydCBjb25zdCBlbmRwb2ludHMgPSB7XG5cdHNsYWNrOiAnaHR0cHM6Ly9zb2NpYWwtcHJveHkuaGVyb2t1YXBwLmNvbS9zbGFjaycsXG59O1xuXG5jb25zdCBjb25maWcgPSB7XG5cdGVuZHBvaW50cyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZztcbiIsIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJTVBPUlQgTU9EVUxFU1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IEluc3RhZ3JhbU1vZHVsZSB9IGZyb20gJy4vbW9kdWxlcy9pbnN0YWdyYW0nO1xuaW1wb3J0IHsgQ2FjaGVNb2R1bGUgfSBmcm9tICcuL21vZHVsZXMvY2FjaGUnO1xuaW1wb3J0IHsgU2xhY2tNb2R1bGUgfSBmcm9tICcuL21vZHVsZXMvc2xhY2snO1xuaW1wb3J0IHsgU29jaWFsUHJveHlJbnRlcmZhY2UgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuXG4oIGZ1bmN0aW9uKCB3aW5kb3c6IGFueSApIHtcblx0aWYgKCB3aW5kb3dbICdzb2NpYWxQcm94eScgXSApIHtcblx0XHRjb25zb2xlLmxvZyggJ1dob29wcywgbG9va3MgbGlrZSB0aGUgYHNvY2lhbFByb3h5YCBBUEkgaGFzIGFscmVhZHkgYmVlbiBhZGRlZCEnICk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y2xhc3MgU29jaWFsUHJveHkgaW1wbGVtZW50cyBTb2NpYWxQcm94eUludGVyZmFjZSB7XG5cdFx0cHVibGljIGluc3RhZ3JhbTogSW5zdGFncmFtTW9kdWxlO1xuXHRcdHB1YmxpYyBjYWNoZTogQ2FjaGVNb2R1bGU7XG5cdFx0cHVibGljIHNsYWNrOiBTbGFja01vZHVsZTtcblxuXHRcdGNvbnN0cnVjdG9yKCkge1xuXHRcdFx0dGhpcy5pbnN0YWdyYW0gPSBuZXcgSW5zdGFncmFtTW9kdWxlKCB7IHJlZjogdGhpcyB9ICk7XG5cdFx0XHR0aGlzLmNhY2hlID0gbmV3IENhY2hlTW9kdWxlKCB7IHJlZjogdGhpcyB9ICk7XG5cdFx0XHR0aGlzLnNsYWNrID0gbmV3IFNsYWNrTW9kdWxlKCB7IHJlZjogdGhpcyB9ICk7XG5cdFx0fVxuXHR9O1xuXG5cdHdpbmRvd1sgJ3NvY2lhbFByb3h5JyBdID0gbmV3IFNvY2lhbFByb3h5KCk7XG59ICkoIHdpbmRvdyApO1xuIiwiaW1wb3J0IHsgTW9kdWxlSW50ZXJmYWNlIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBDYWNoZU1vZHVsZSBpbXBsZW1lbnRzIE1vZHVsZUludGVyZmFjZSB7XG5cdHB1YmxpYyByZWY6IGFueTtcblxuXHRjb25zdHJ1Y3Rvciggb3B0aW9uczogYW55ID0ge30gKSB7XG5cdFx0aWYgKCBvcHRpb25zLnJlZiApIHtcblx0XHRcdHRoaXMucmVmID0gb3B0aW9ucy5yZWY7XG5cdFx0fVxuXHR9XG5cblx0Ly8gSU5TVEFOQ0UgTUVUSE9EU1xuXHQvKipcblx0ICogRW5zdXJlcyB0aGF0IHRoZSBgdHRsYCBpcyBhIG51bWJlcjsgYWRkcyB0byBjdXJyZW50IHRpbWVzdGFtcCAoaW4gTVMpIHRvIHZhbHVlIHByb3ZpZGVkLlxuXHQgKlxuXHQgKiBJZiBgdHRsYCBpcyBtaXNzaW5nL2ludmFsaWQsIGZ1bmN0aW9uIHJldHVybnMgYG51bGxgLlxuXHQgKlxuXHQgKiBAcGFyYW0ge251bWJlcn0gdHRsXG5cdCAqIEByZXR1cm4ge251bWJlcnxudWxsfVxuXHQgKi9cblx0c2FuaXRpemVUdGwoIHR0bDogbnVtYmVyICk6IGFueSB7XG5cdFx0cmV0dXJuICggdHRsICYmIHR5cGVvZiB0dGwgPT09ICdudW1iZXInICkgPyAoIG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgdHRsICkgOiBudWxsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGRlZmF1bHQgYHR0bGAgdmFsdWUgKGllLiAxIHdlZWsgZnJvbSBjdXJyZW50IG1vbWVudCwgYXMgTVMpLlxuXHQgKlxuXHQgKiBAcmV0dXJuIHtudW1iZXJ9XG5cdCAqL1xuXHRnZXREZWZhdWx0VHRsKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuICggbmV3IERhdGUoKS5nZXRUaW1lKCkgKyAoIDEwMDAgKiA2MCAqIDYwICogMjQgKiA3ICkgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBTb2NpYWwgUHJveHkgY2FjaGUgcHJlZml4L25hbWVzcGFjZSBzdHJpbmcuXG5cdCAqXG5cdCAqIEByZXR1cm4ge3N0cmluZ31cblx0ICovXG5cdGdldENhY2hlUHJlZml4KCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuICdzb2NpYWxQcm94eSc7XG5cdH1cblxuXHQvKipcblx0ICogR2l2ZW4gYW4gYG9wdGlvbnNgIG9iamVjdCwgZnVuY3Rpb24gcmV0dXJucyBhIHZhbGlkIFNvY2lhbCBQcm94eSBjYWNoZSBrZXkgb3IgZmFsbHMgYmFjayB0byBgbnVsbGAuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG5cdCAqL1xuXHRnZXRDYWNoZUtleSggb3B0aW9uczogYW55ID0ge30gKTogYW55IHtcblx0XHR2YXIgcGxhdGZvcm0gPSBvcHRpb25zLnBsYXRmb3JtO1xuXHRcdHZhciBoYW5kbGUgPSBvcHRpb25zLmhhbmRsZTtcblx0XHR2YXIgdXJsID0gb3B0aW9ucy51cmw7XG5cblx0XHRpZiAoIHBsYXRmb3JtICYmIGhhbmRsZSAmJiB1cmwgKSB7XG5cdFx0XHRyZXR1cm4gYCR7dGhpcy5nZXRDYWNoZVByZWZpeCgpfV9fJHtwbGF0Zm9ybX1fXyR7aGFuZGxlfV9fJHt1cmx9YDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdpdmVuIGEgY2FjaGUgZGF0YSBvYmplY3QsIGZ1bmN0aW9uIGFkZHMgYW4gYGlzRXhwaXJlZGAgZmxhZyB0byB0aGUgYHNvY2lhbFByb3h5YCBrZXkuXG5cdCAqXG5cdCAqIGBpc0V4cGlyZWRgIGlzIHRydWUgaWYgdGhlIGNhY2hlJ3MgYHR0bGAgdGltZXN0YW1wIGlzIGxlc3MgdGhhbiB0aGUgY3VycmVudCBtb21lbnQuIE90aGVyd2lzZSwgYGlzRXhwaXJlZGAgaXMgZmFsc2UuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fVxuXHQgKiBAcmV0dXJuIHtPYmplY3R9XG5cdCAqL1xuXHRkZWNvcmF0ZUNhY2hlKCBkYXRhOiBhbnkgPSB7fSApOiBhbnkge1xuXHRcdGlmICggIWRhdGEuc29jaWFsUHJveHkgKSB7XG5cdFx0XHRkYXRhLnNvY2lhbFByb3h5ID0ge307XG5cdFx0fVxuXG5cdFx0aWYgKCBkYXRhLnNvY2lhbFByb3h5LnR0bCAmJiB0eXBlb2YgZGF0YS5zb2NpYWxQcm94eS50dGwgPT09ICdudW1iZXInICkge1xuXHRcdFx0ZGF0YS5zb2NpYWxQcm94eS5pc0V4cGlyZWQgPSAoIGRhdGEuc29jaWFsUHJveHkudHRsIDwgbmV3IERhdGUoKS5nZXRUaW1lKCkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHaXZlbiBhbiBgb3B0aW9uc2Agb2JqZWN0LCBmdW5jdGlvbiBhc3NlbWJsZXMgYSBjYWNoZSBrZXkgYW5kIGF0dGVtcHRzIHRvIGZldGNoIHRoZSBjb3JyZXNwb25kaW5nIGRhdGEuXG5cdCAqXG5cdCAqIElmIHRoZSByZXF1aXJlZCBhcmd1bWVudHMgYXJlIG1pc3NpbmcsIG9yIHRoZSBkYXRhIGRvZXMgbm90IGV4aXN0LCBmdW5jdGlvbiByZXR1cm5zIGBudWxsYC5cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcblx0ICogQHBhcmFtIHtNaXhlZHxudWxsfVxuXHQgKi9cblx0Z2V0Q2FjaGUoIG9wdGlvbnM6IGFueSA9IHt9ICk6IGFueSB7XG5cdFx0dmFyIGtleSA9IHRoaXMuZ2V0Q2FjaGVLZXkoIG9wdGlvbnMgKTtcblx0XHR2YXIgZGF0YSA9IG51bGw7XG5cblx0XHRpZiAoICFrZXkgKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHRkYXRhID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCBrZXkgKTtcblxuXHRcdHJldHVybiAoIGRhdGEgKSA/IHRoaXMuZGVjb3JhdGVDYWNoZSggSlNPTi5wYXJzZSggZGF0YSApICkgOiBkYXRhO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNhdmVzIHRoZSBgZGF0YWAgdG8gdGhlIGNhY2hlIHVzaW5nIHRoZSBgb3B0aW9uc2AgcHJvdmlkZWQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG5cdCAqL1xuXHRzZXRDYWNoZSggZGF0YTogYW55LCBvcHRpb25zOiBhbnkgKTogYW55IHtcblx0XHRpZiAoICF3aW5kb3cubG9jYWxTdG9yYWdlICkge1xuXHRcdFx0Ly8vIFRPRE9bQGpybXlrb2x5bl06IFByaW50IHdhcm5pbmcgbWVzc2FnZS5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBrZXkgPSB0aGlzLmdldENhY2hlS2V5KCBvcHRpb25zICk7XG5cdFx0Y29uc3QgdHRsID0gdGhpcy5zYW5pdGl6ZVR0bCggb3B0aW9ucy50dGwgKSB8fCB0aGlzLmdldERlZmF1bHRUdGwoKTtcblxuXHRcdC8vIFVwZGF0ZSBkYXRhIHdpdGggYHNvY2lhbFByb3h5YCBjbGllbnQgaW5mby5cblx0XHRkYXRhLnNvY2lhbFByb3h5ID0ge1xuXHRcdFx0dHRsOiB0dGwsXG5cdFx0fTtcblxuXHRcdHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgga2V5LCBKU09OLnN0cmluZ2lmeSggZGF0YSApICk7XG5cdH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZUludGVyZmFjZSB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgSW5zdGFncmFtTW9kdWxlIGltcGxlbWVudHMgTW9kdWxlSW50ZXJmYWNlIHtcblx0cHVibGljIHJlZjogYW55O1xuXG5cdGNvbnN0cnVjdG9yKCBvcHRpb25zOiBhbnkgPSB7fSApIHtcblx0XHRpZiAoIG9wdGlvbnMucmVmICkge1xuXHRcdFx0dGhpcy5yZWYgPSBvcHRpb25zLnJlZjtcblx0XHR9XG5cdH1cblxuXHQvLyBJTlNUQU5DRSBNRVRIT0RTXG5cdC8qKlxuXHQgKiBGdW5jdGlvbiBmZXRjaGVzIGEgZ2l2ZW4gSW5zdGFncmFtIGZlZWQgZnJvbSB0aGUgU29jaWFsIFByb3h5IEFQSSwgcmV0dXJucyB0aGUgcmVzdWx0IGFzIGEgUHJvbWlzZS5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IGhhbmRsZSAtIFRoZSBJbnN0YWdyYW0gaGFuZGxlL2ZlZWQgdG8gZmV0Y2guXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG5cdCAqIEByZXR1cm4ge1Byb21pc2V9XG5cdCAqL1xuXHRmZXRjaCggaGFuZGxlOiBzdHJpbmcsIG9wdGlvbnM6IGFueSA9IHt9ICkge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSggKCByZXNvbHZlLCByZWplY3QgKSA9PiB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0XHR2YXIgcXVlcnkgPSBvcHRpb25zLnF1ZXJ5IHx8IHt9O1xuXHRcdFx0dmFyIHR0bCA9IG9wdGlvbnMudHRsIHx8IG51bGw7XG5cdFx0XHR2YXIgcXVlcnlTdHJpbmcgPSBPYmplY3Qua2V5cyggcXVlcnkgKS5tYXAoICgga2V5ICkgPT4geyByZXR1cm4gYCR7a2V5fT0ke3F1ZXJ5WyBrZXkgXX1gOyB9ICkuam9pbiggJyYnICk7XG5cblx0XHRcdC8vIENvbnN0cnVjdCByZXF1ZXN0IGVuZHBvaW50LlxuXHRcdFx0dmFyIHVybCA9IGBodHRwczovL3NvY2lhbC1wcm94eS5oZXJva3VhcHAuY29tL2luc3RhZ3JhbS8ke2hhbmRsZX0/JHtxdWVyeVN0cmluZ31gO1xuXG5cdFx0XHQvLyBDaGVjayBpZiByZXF1ZXN0ZWQgZGF0YSBoYXMgYmVlbiBmZXRjaGVkL2NhY2hlZC5cblx0XHRcdHZhciBjYWNoZWREYXRhID0gX3RoaXMucmVmLmNhY2hlLmdldENhY2hlKCB7IHBsYXRmb3JtOiAnaW5zdGFncmFtJywgaGFuZGxlLCB1cmwgfSApO1xuXG5cdFx0XHR2YXIgcmVxID0gbnVsbDtcblxuXHRcdFx0Ly8gUmV0dXJuIGNhY2hlZCBkYXRhIGlmOlxuXHRcdFx0Ly8gLSAnYnVzdCBjYWNoZScgc2V0IHRvIGZhbHNlLlxuXHRcdFx0Ly8gLSBkYXRhIGV4aXN0cy5cblx0XHRcdC8vIC0gZGF0YSBpcyBub3QgZXhwaXJlZC5cblx0XHRcdC8vIE90aGVyd2lzZSwgZmV0Y2ggbmV3IGRhdGEuXG5cdFx0XHRpZiAoICFvcHRpb25zLmJ1c3RDYWNoZSAmJiBjYWNoZWREYXRhICYmICFjYWNoZWREYXRhLnNvY2lhbFByb3h5LmlzRXhwaXJlZCApIHtcblx0XHRcdFx0cmVzb2x2ZSggY2FjaGVkRGF0YSApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuXHRcdFx0XHRyZXEub3BlbiggJ0dFVCcsIHVybCApO1xuXG5cdFx0XHRcdHJlcS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMucmVhZHlTdGF0ZSA9PT0gNCApIHtcblx0XHRcdFx0XHRcdHZhciBzdGF0dXM6IGFueSA9IHRoaXMuc3RhdHVzO1xuXG5cdFx0XHRcdFx0XHRpZiAoIHBhcnNlSW50KCBzdGF0dXMgKSA9PT0gMjAwICkge1xuXG5cdFx0XHRcdFx0XHRcdGlmICggISFvcHRpb25zLmNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdF90aGlzLnJlZi5jYWNoZS5zZXRDYWNoZSggSlNPTi5wYXJzZSggdGhpcy5yZXNwb25zZSApLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwbGF0Zm9ybTogJ2luc3RhZ3JhbScsXG5cdFx0XHRcdFx0XHRcdFx0XHRoYW5kbGUsXG5cdFx0XHRcdFx0XHRcdFx0XHR1cmwsXG5cdFx0XHRcdFx0XHRcdFx0XHR0dGwsXG5cdFx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggSlNPTi5wYXJzZSggdGhpcy5yZXNwb25zZSApICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZWplY3QoIHRoaXMucmVzcG9uc2UgfHwgdGhpcy5zdGF0dXNUZXh0ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVxLnNlbmQoKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cbn1cbiIsImltcG9ydCB7IGVuZHBvaW50cyB9IGZyb20gJy4uLy4uL2NvbmZpZyc7XG5pbXBvcnQgeyBNb2R1bGVJbnRlcmZhY2UgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIFNsYWNrTW9kdWxlIGltcGxlbWVudHMgTW9kdWxlSW50ZXJmYWNlIHtcblx0cHVibGljIHJlZjogYW55O1xuXG5cdGNvbnN0cnVjdG9yKCBvcHRpb25zOiBhbnkgPSB7fSApIHtcblx0XHRpZiAoIG9wdGlvbnMucmVmICkge1xuXHRcdFx0dGhpcy5yZWYgPSBvcHRpb25zLnJlZjtcblx0XHR9XG5cdH1cblxuXHQvLyBJTlNUQU5DRSBNRVRIT0RTXG5cdC8qKlxuXHQgKiBHaXZlbiBhIGBoYW5kbGVgIHN0cmluZywgbWV0aG9kIHNlbmRzIGEgUE9TVCByZXF1ZXN0IHRvIHRoZSBjb3JyZXNwb25kaW5nIFNvY2lhbCBQcm94eSBlbmRwb2ludCBhbmQgcmV0dXJucyB0aGUgcmVzdWx0IGFzIGEgUHJvbWlzZS5cblx0ICpcblx0ICogVGhlIG1ldGhvZCBtdXN0IGJlIGludm9rZWQgd2l0aCBhbiBgb3B0aW9uc2Agb2JqZWN0LCB3aGljaCBpbiB0dXJuIG11c3QgaW5jbHVkZSBhICd0ZXh0JyBrZXkuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBoYW5kbGVcblx0ICogQHJldHVybiB7UHJvbWlzZX1cblx0ICovXG5cdC8vLyBUT0RPOiBVcGRhdGUgbWV0aG9kIHRvIGFjY2VwdCBhbnkgZGF0YSB3aGljaCBjYW4gYmUgcG9zdGVkIHRvIFNsYWNrIChlZy4gJ2F0dGFjaG1lbnRzJywgJ3ByZXRleHQnLCBldGMuKS5cblx0cG9zdCggaGFuZGxlOiBzdHJpbmcsIG9wdGlvbnM6IGFueSA9IHt9ICk6IFByb21pc2U8YW55PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKCAoIHJlc29sdmUsIHJlamVjdCApID0+IHtcblx0XHRcdGxldCB7IHRleHQgfSA9IG9wdGlvbnM7XG5cblx0XHRcdGlmICggIWhhbmRsZSB8fCB0eXBlb2YgaGFuZGxlICE9PSAnc3RyaW5nJyApIHtcblx0XHRcdFx0cmVqZWN0KCAnTWlzc2luZyBgaGFuZGxlYCcgKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICF0ZXh0IHx8IHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJyApIHtcblx0XHRcdFx0cmVqZWN0KCAnYG9wdGlvbnNgIG9iamVjdCBtdXN0IGluY2x1ZGUgYSBgdGV4dGAga2V5IG9mIHR5cGUgc3RyaW5nLicgKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgdXJsID0gYCR7ZW5kcG9pbnRzLnNsYWNrfS8ke2hhbmRsZX0/dGV4dD0ke3RleHR9YDtcblx0XHRcdGxldCByZXF1ZXN0Q29uZmlnID0ge1xuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdH07XG5cblx0XHRcdGZldGNoKCB1cmwsIHJlcXVlc3RDb25maWcgKVxuXHRcdFx0XHQudGhlbiggKCByZXNwb25zZSApID0+IHtcblx0XHRcdFx0XHRyZXNvbHZlKCByZXNwb25zZS50ZXh0KCkgKTsgLy8vIFRPRE86IENvbmZpcm0gdGhhdCByZXNwb25zZSB3aWxsIGJlICd0ZXh0JyBpbiBhbGwgY2FzZXMuXG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQuY2F0Y2goICggZXJyICkgPT4ge1xuXHRcdFx0XHRcdHJlamVjdCggZXJyICk7XG5cdFx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cbn1cbiJdfQ==
